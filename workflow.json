{
  "WorkflowCode": "AAAGENTTEAMSUPERV01",
  "Name": "AA_AGENT_TEAM_SUPERV_01",
  "Description": "An agent that helps answer user queries related to Payables Invoices or Receivables transactions",
  "Family": "FIN",
  "Product": "PAYABLES",
  "UseCaseId": "NA",
  "SourceWorkflowId": null,
  "AccessModifier": "public",
  "Specification": {
    "jsonSchemaName": "Workflow.spec",
    "jsonSchemaVersion": "1",
    "inputs": [],
    "agentsValueMappings": [
      {
        "agentCode": "AAAGENTAPINV",
        "inputs": []
      },
      {
        "agentCode": "AAAGENTSUPERV01",
        "inputs": []
      },
      {
        "agentCode": "AAARAGENTINV",
        "inputs": []
      }
    ],
    "dataPipeline": {
      "pipelineNodes": [
        {
          "metadata": {
            "description": "End of data pipeline",
            "name": "End"
          },
          "outcomes": {},
          "code": "END",
          "id": "end",
          "inputs": [],
          "type": "END"
        }
      ],
      "rootNode": "end",
      "variables": [],
      "errorHandlers": [
        {
          "type": "EMAIL",
          "inputs": [
            {
              "name": "toList",
              "type": "string",
              "value": ""
            },
            {
              "name": "ccList",
              "type": "string",
              "value": ""
            },
            {
              "name": "subject",
              "type": "string",
              "value": ""
            },
            {
              "name": "body",
              "type": "string",
              "value": ""
            }
          ]
        }
      ]
    },
    "triggers": [
      {
        "type": "REST",
        "inputs": []
      }
    ]
  },
  "StartQuestionOne": "Please, show invoices for SupplierName \"King-Fisher Sprit\"",
  "StartQuestionTwo": "Please, show transactions for CustomerName \"Redline Hosting\"",
  "StartQuestionThree": null,
  "FollowUpPromptEnabledFlag": false,
  "FollowUpPrompt": "Based on the following conversion: $param.system_context.chat_history generate $param.system_context.number_of_follow_up_questions\nfollow up questions only while strictly adhering to the JSON Schema format mentioned below. Remove the ```json markdown from the output.\nHere is the JSON Schema format the output should adhere to:\n[{\"question\": \"<put first question generated here>\"}, {\"question\": \"<put second question generated here>\"}, {\"question\": \"<put third question generated here>\"}",
  "Architecture": "single_agent",
  "MaximumInteractions": 10,
  "StartAgentId": null,
  "agents": [
    {
      "AgentCode": "AAAGENTAPINV",
      "Name": "AA_AGENT_AP_INV",
      "Description": "Get payables invoices data",
      "Family": "FIN",
      "Product": "PAYABLES",
      "ModuleId": null,
      "Namespace": "FIN.PAYABLES",
      "PromptCode": null,
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Default",
        "summarizationPrompt": "Based on the information through the chat history and/or tool call responses, construct a clear, professional, and user-friendly answer to address the user's original query.\nconstruct an answer that addresses the user's original query.\nYour answer should be directed towards the user and should be friendly, professional,\nand concise. If you are not able to answer the user's question based on the tool calls or through the chat history,\nyou should let them know that you do not have access to that information.\n\n--ANSWER REQUIREMENTS--\nYour answer should be based only on the information available to you in the tool calling chat\nhistory. You should never invent or make up answers. If the question requires you to synthesize\nanswers across several tool responses, you should do that. Note that some information may need\nto be summarized from across multiple places in a given object. Use your inference and semantic\nknowledge to derive the answer from the data without inventing anything.\n\n--ADDITIONAL REQUIREMENTS--\n* Do not mention tool calls, chat history, underlying operations, or system processes.\n* Keep the response natural and conversational without unnecessary preambles.\n* Provide a direct and engaging response without phrases like \"Based on tool calls\" or similar references.\n* Do not append any characters or trailing Periods (.) at the end of valid URLs.\n* If link is generated by DeepLink tool do not remove from response."
      },
      "Version": 32,
      "MaximumInteractions": 10,
      "AgentType": "WORKER",
      "Prompt": "Get payables invoices data",
      "ModelConfigId": null,
      "ReusableFlag": false,
      "tools": [
        {
          "ToolCode": "AAAPINVOICESTOOLBO",
          "Type": "BUS_OBJECT",
          "Name": "AA_AP_INVOICES_TOOL_BO",
          "Description": "Get payables invoices data",
          "Family": "FIN",
          "Product": "OTHER",
          "SeededFlag": false,
          "HiddenFlag": false,
          "ModuleId": null,
          "Namespace": "FIN.OTHER",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "Specification": {
            "jsonSchemaName": "Tool.spec",
            "jsonSchemaVersion": "1"
          },
          "UserInputMsg": null,
          "RestTool": {
            "ObjectCode": "ORA_FIN_OTHER_AAAPINVOICESBO2",
            "Family": "FIN",
            "Product": "OTHER",
            "ObjectSource": "ADF_BC",
            "Category": null,
            "RestResourcePath": "/fscmRestApi/resources/11.13.18.05/invoices",
            "RestResourceIdentifier": "identifier_not_known",
            "RestSupportedOperations": "{\"allowedOperations\": {\"GET\": true, \"POST\": true, \"PATCH\": true, \"DELETE\": true}}",
            "ParentSupptObjectId": null,
            "MandatoryFlag": false,
            "SeededFlag": false,
            "ObjectProperties": {
              "jsonSchemaName": "SupportedBusinessObject.objectProperties",
              "jsonSchemaVersion": 1,
              "tools": [
                {
                  "bodyTemplate": "",
                  "description": "Get data from payables invoices",
                  "id": 20,
                  "isNew": true,
                  "name": "getPayablesInvoices",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Supplier Name parameter",
                      "id": 17,
                      "isToken": true,
                      "name": "SupplierName"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/invoices?q=Supplier='{SupplierName}'",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [
                    {
                      "query": {
                        "mySupplierName": "demo"
                      },
                      "description": "Supplier name parameter",
                      "id": 15,
                      "stringValue": "{\"mySupplierName\":\"demo\"}"
                    }
                  ],
                  "type": "BUS_OBJECT"
                }
              ]
            },
            "ObjectDisplayName": "AA_AP_INVOICES_BO2",
            "Name": "AA_AP_INVOICES_BO2",
            "Description": "Get data from payables invoices"
          }
        }
      ],
      "topics": []
    },
    {
      "AgentCode": "AAAGENTSUPERV01",
      "Name": "AA_AGENT_SUPERV_01",
      "Description": "This agent serves as a planning and coordination layer that oversees and delegates tasks.\n",
      "Family": "FIN",
      "Product": "PAYABLES",
      "ModuleId": null,
      "Namespace": "FIN.PAYABLES",
      "PromptCode": null,
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Default",
        "summarizationPrompt": "Based on the information through the chat history and/or tool call responses, construct a clear, professional, and user-friendly answer to address the user's original query.\nconstruct an answer that addresses the user's original query.\nYour answer should be directed towards the user and should be friendly, professional,\nand concise. If you are not able to answer the user's question based on the tool calls or through the chat history,\nyou should let them know that you do not have access to that information.\n\n--ANSWER REQUIREMENTS--\nYour answer should be based only on the information available to you in the tool calling chat\nhistory. You should never invent or make up answers. If the question requires you to synthesize\nanswers across several tool responses, you should do that. Note that some information may need\nto be summarized from across multiple places in a given object. Use your inference and semantic\nknowledge to derive the answer from the data without inventing anything.\n\n--ADDITIONAL REQUIREMENTS--\n* Do not mention tool calls, chat history, underlying operations, or system processes.\n* Keep the response natural and conversational without unnecessary preambles.\n* Provide a direct and engaging response without phrases like \"Based on tool calls\" or similar references.\n* Do not append any characters or trailing Periods (.) at the end of valid URLs.\n* If link is generated by DeepLink tool do not remove from response."
      },
      "Version": 32,
      "MaximumInteractions": 10,
      "AgentType": "SUPERVISOR",
      "Prompt": "You are a planning agent.\n\nYour job is to break down complex user requests into smaller, manageable subtasks and delegate each task to exactly one of the following agents:\n\nIf the user ask for Supplier or Supplier Name use AA_AGENT_AP_INV agent \nIf the user ask for Customer or Customer Name use AA_AGENT_AR_INV agent\n\n## Important Mapping \n1. transaction and invoice means same\n\nDo not respond to tasks which cannot be done by the agents listed below. In this situation provide a message to the end user explaining what kind of tasks can be performed based on the known agents.  \n\nYour job is only to plan and delegate tasks to the known agents - Do not invoke the task on your own.   \n\nMake sure only one agent can be invoked at a time. $param.system_context.list_of_available_agents\n\nPlease say TERMINATE when the whole job is completed.",
      "ModelConfigId": null,
      "ReusableFlag": false,
      "tools": [],
      "topics": []
    },
    {
      "AgentCode": "AAARAGENTINV",
      "Name": "AA_AR_AGENT_INV",
      "Description": "Get receivables transaction data.",
      "Family": "FIN",
      "Product": "PAYABLES",
      "ModuleId": null,
      "Namespace": "FIN.PAYABLES",
      "PromptCode": null,
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Default",
        "summarizationPrompt": "Based on the information through the chat history and/or tool call responses, construct a clear, professional, and user-friendly answer to address the user's original query.\nconstruct an answer that addresses the user's original query.\nYour answer should be directed towards the user and should be friendly, professional,\nand concise. If you are not able to answer the user's question based on the tool calls or through the chat history,\nyou should let them know that you do not have access to that information.\n\n--ANSWER REQUIREMENTS--\nYour answer should be based only on the information available to you in the tool calling chat\nhistory. You should never invent or make up answers. If the question requires you to synthesize\nanswers across several tool responses, you should do that. Note that some information may need\nto be summarized from across multiple places in a given object. Use your inference and semantic\nknowledge to derive the answer from the data without inventing anything.\n\n--ADDITIONAL REQUIREMENTS--\n* Do not mention tool calls, chat history, underlying operations, or system processes.\n* Keep the response natural and conversational without unnecessary preambles.\n* Provide a direct and engaging response without phrases like \"Based on tool calls\" or similar references.\n* Do not append any characters or trailing Periods (.) at the end of valid URLs.\n* If link is generated by DeepLink tool do not remove from response."
      },
      "Version": 32,
      "MaximumInteractions": 10,
      "AgentType": "WORKER",
      "Prompt": "Get receivables transaction data",
      "ModelConfigId": null,
      "ReusableFlag": false,
      "tools": [
        {
          "ToolCode": "AAARTRXTOOLBO",
          "Type": "BUS_OBJECT",
          "Name": "AA_AR_TRX_TOOL_BO",
          "Description": "Get receivables transaction data",
          "Family": "FIN",
          "Product": "OTHER",
          "SeededFlag": false,
          "HiddenFlag": false,
          "ModuleId": null,
          "Namespace": "FIN.OTHER",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "Specification": {
            "jsonSchemaName": "Tool.spec",
            "jsonSchemaVersion": "1"
          },
          "UserInputMsg": null,
          "RestTool": {
            "ObjectCode": "ORA_FIN_OTHER_AAARTRXBO2",
            "Family": "FIN",
            "Product": "OTHER",
            "ObjectSource": "ADF_BC",
            "Category": null,
            "RestResourcePath": "/fscmRestApi/resources/11.13.18.05/receivablesInvoices",
            "RestResourceIdentifier": "identifier_not_known",
            "RestSupportedOperations": "{\"allowedOperations\": {\"GET\": true, \"POST\": true, \"PATCH\": true, \"DELETE\": true}}",
            "ParentSupptObjectId": null,
            "MandatoryFlag": false,
            "SeededFlag": false,
            "ObjectProperties": {
              "jsonSchemaName": "SupportedBusinessObject.objectProperties",
              "jsonSchemaVersion": 1,
              "tools": [
                {
                  "bodyTemplate": "",
                  "description": "Get information for transactions data",
                  "id": 9,
                  "isNew": true,
                  "name": "getTrxData",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Customer Name parameter",
                      "id": 13,
                      "isToken": true,
                      "name": "CustomerName"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/receivablesInvoices?finder=invoiceSearch;BillToCustomerName=\"{CustomerName}\"",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [],
                  "type": "BUS_OBJECT"
                }
              ]
            },
            "ObjectDisplayName": "AA_AR_TRX_BO2",
            "Name": "AA_AR_TRX_BO2",
            "Description": "Get information of receivables transactions"
          }
        }
      ],
      "topics": []
    }
  ],
  "agentMappings": [
    {
      "EdgeOrder": 0,
      "AgentCode": "AAAGENTSUPERV01",
      "AgentTargetCode": "AAAGENTAPINV"
    },
    {
      "EdgeOrder": 0,
      "AgentCode": "AAAGENTSUPERV01",
      "AgentTargetCode": "AAAGENTSUPERV01"
    },
    {
      "EdgeOrder": 1,
      "AgentCode": "AAAGENTSUPERV01",
      "AgentTargetCode": "AAARAGENTINV"
    }
  ]
}
 # AA_AGENT_TEAM_SUPERV_01
# Supervisor-Agent Workflow for Payables and Receivables
# Developed by [junajesusmontero]

